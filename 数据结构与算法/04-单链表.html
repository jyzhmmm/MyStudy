<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function LinkedList() {
            this.length = 0;
            this.head = null;
            //内部的类
            function Node(data) {
                this.data = data;
                this.next = null;
            }
            // 添加链表节点
            LinkedList.prototype.append = function(element) {
                    let newNode = new Node(element);
                    // 判断链表是否为空
                    // 1.为空
                    if (this.length === 0) {
                        this.head = newNode;
                    } else {
                        //不为空
                        let current = this.head;
                        while (current.next !== null) {
                            current = current.next
                        }
                        current.next = newNode;
                    }
                    this.length += 1;
                }
                // toString
            LinkedList.prototype.toString = function() {
                    let current = this.head
                    let listString = ''

                    while (current) {
                        listString += current.data + ' '
                        current = current.next
                    }
                    return listString
                }
                // 插入节点
            LinkedList.prototype.insert = function(element, position) {
                    // 越界判断
                    if (position < 0 || position > this.length) return false
                    let newNode = new Node(element)
                    if (position == 0) {
                        newNode.next = this.head
                        this.head = newNode
                    } else {
                        let current = this.head
                        let temp = 0
                        let previous = null
                        while (position > temp) {
                            previous = current
                            current = current.next
                            temp += 1
                        }
                        newNode.next = current
                        previous.next = newNode
                    }
                    this.length += 1
                }
                // get某个节点
            LinkedList.prototype.getNode = function(position) {
                    // 越界判断
                    if (position < 0 || position >= this.length) return false
                    let temp = 0
                    let current = this.head
                    while (position > temp) {
                        current = current.next
                        temp += 1
                    }
                    return current.data
                }
                // indexOf方法 找不到返回-1
            LinkedList.prototype.indexOf = function(data) {
                    let current = this.head
                    let temp = 0
                    while (current) {
                        if (current.data == data) {
                            return temp
                        }
                        current = current.next
                        temp += 1
                    }
                    return -1
                }
                // 修改某个节点数据
            LinkedList.prototype.update = function(position, newData) {
                    // 越界判断
                    if (position < 0 || position >= this.length) return false
                        //查找节点
                    let current = this.head
                    let temp = 0
                    while (position > temp) {
                        current = current.next
                        temp += 1
                    }
                    current.data = newData
                    return true
                }
                // removeAt根据索引删除某个节点
            LinkedList.prototype.removeAt = function(position) {
                    // 越界判断
                    if (position < 0 || position >= this.length) return false
                        //查找节点
                    let current = this.head
                    if (position == 0) {
                        this.head = this.head.next
                    } else {
                        let previous = null
                        let temp = 0
                        while (position > temp) {
                            previous = current
                            current = current.next
                            temp += 1
                        }
                        previous.next = current.next
                    }
                    this.length -= 1
                    return current.data
                }
                // remove根据数据删除节点
            LinkedList.prototype.remove = function(data) {
                    let oldNode = this.removeAt(this.indexOf(data))
                    return oldNode
                }
                // 判断是否为空
            LinkedList.prototype.isEnpty = function() {
                    return this.length == 0
                }
                // 查看链表中的元素个数
            LinkedList.prototype.size = function() {
                    return this.length
                }
                // toString
            LinkedList.prototype.toString = function() {
                let str = ''
                let current = this.head
                while (current) {
                    str += current.data + ' '
                    current = current.next
                }
                return str
            }
        }

        const list = new LinkedList()
        list.append('qwe')
        list.append('gf')
        list.append('vb')
        console.log(list.toString())
        list.insert('er', 2)
        list.insert('df', 3)
        console.log(list.getNode(0))
        console.log(list.indexOf('r'))
        console.log(list.update(3, 'mnb'))
        console.log(list)
        console.log(list.removeAt(2))
        console.log(list)
        console.log(list.remove('qwe'))
        console.log(list.toString())
    </script>
</body>

</html>